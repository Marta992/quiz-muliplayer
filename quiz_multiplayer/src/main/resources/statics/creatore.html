<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creatore - Gestione Quiz</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <a class="navbar-brand" href="#">Quiz Multiplayer - Gestione</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a class="nav-link" href="gioca_gestore.html">Gioca</a></li>
                <li class="nav-item"><a class="nav-link" href="punteggi_gestore.html">Punteggi</a></li>
                <li class="nav-item active"><a class="nav-link" href="#">Gestisci</a></li>
                <li class="nav-item"><a class="nav-link" href="accedi.html">Esci</a></li>
            </ul>
        </div>
    </nav>

    <div class="container mb-5 mt-custom">
        <h2 class="text-center">Gestione Domande del Quiz</h2>

        <!-- Form per aggiungere una domanda -->
        <h3>Aggiungi una domanda</h3>
        <form action="/question-create" method="POST">
			<div class="form-group">
                <label for="questionText">Domanda:</label>
                <input type="text" name="questionText" class="form-control" minlength="10" maxlength="255" required>
            </div>
            <div class="form-group">
                <label for="correctOption">Risposta corretta:</label>
                <input type="text" name="correctOption" class="form-control" minlength="1" maxlength="100" required>
            </div>
            <div class="form-group">
                <label for="otherOption1">Altra risposta 1:</label>
                <input type="text" name="otherOption1" class="form-control" minlength="1" maxlength="100" required>
            </div>
            <div class="form-group">
                <label for="otherOption2">Altra risposta 2:</label>
                <input type="text" name="otherOption2" class="form-control" minlength="1" maxlength="100" required>
            </div>
            <div class="form-group">
                <label for="otherOption3">Altra risposta 3:</label>
                <input type="text" name="otherOption3" class="form-control" minlength="1" maxlength="100" required>
            </div>
            <button type="submit" class="btn btn-success btn-block">Aggiungi</button>
        </form>

        <h3 class="mt-5">Domande Esistenti</h3>
        <table class="table table-primary">
			<thead>
				<tr>
					<th scope="col">ID</th>
					<th scope="col">Domanda</th>
					<th scope="col">Risposta corretta</th>
				</tr>
			</thead>
			<tbody></tbody>
		</table>
		
		<!-- Form per rimuovere una domanda -->
        <h3 class="mt-5">Rimuovi una domanda</h3>
        <form action="/question-delete" method="POST">
			<div class="form-group">
                <label for="questionId">ID della domanda da rimuovere:</label>
                <input id="questionId" type="number" name="questionId" class="form-control" minlength="1" maxlength="100" placeholder="Clicca la riga della domanda che vuoi cancellare" required>
            </div>

			<button id="removeQuestionButton" type="submit" class="btn btn-danger btn-block my-3">Rimuovi</button>
        </form>
    </div>

	<script>
		document.addEventListener("DOMContentLoaded", function() {
		    const questionIdInput = document.getElementById("questionId");
		    const removeQuestionButton = document.getElementById("removeQuestionButton");
		    // Seleziona tutte le righe della tabella
		    const rows = document.querySelectorAll("table tbody tr");
		
		    // Aggiungi un evento di clic su ogni riga della tabella
		    rows.forEach(row => {
		        row.addEventListener("click", function() {
		            // Ottieni il valore della prima cella (ID) della riga cliccata
		            const questionId = row.cells[0].innerText;
		
		            // Popola il campo input con l'ID della domanda
		            questionIdInput.value = questionId;
		            questionId.disabled = false;
					removeQuestionButton.disabled = false;
		        });
		    });
		});
	</script>
</body>
</html>
